canvas logic from : https://github.com/socketio/socket.io/tree/master/examples/whiteboard
